---
import Layout from '../layouts/Layout.astro'
import theme from '../../../src/theme.js'

const { animation } = theme
---

<Layout title='Welcome to Astro.'>
  <main class='py-12 px-4 bg-gray-50'>
    <header class='mx-auto text-center mb-12 leading-8'>
      <h1 class='text-2xl font-black'>Tailwind CSS Animations</h1>
      <h2 class='text-xl font-semibold'>Â¡The Plugin that you need!</h2>
      <code class='underline underline-offset'>npm install @jorgeabf/tailwind-animaciones</code>
    </header>

    <section
      class='max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6'
    >
      {
        Object.keys(animation).map((animationKey) => {
          return (
            <article
              class='col-span-1 border rounded hover:shadow-lg cursor-pointer transition-shadow bg-white'
              data-class={animationKey}
            >
              <div class='p-4 flex gap-4 items-center justify-center flex-col w-full h-full'>
                <div class='size-16 bg-slate-400 rounded flex items-center justify-center example' />
                <h3 class='text-sm font-semibold'>{animationKey}</h3>
              </div>
            </article>
          )
        })
      }
    </section>
  </main>
</Layout>

<script>
  const $articles = document.querySelectorAll('article')

  $articles.forEach(($article) => {
    const animationKey = $article.getAttribute('data-class')
    const animationClass = `animate-${animationKey}`
    const $example = $article.querySelector('.example')

    if (!$example) return

    $article.addEventListener('mouseenter', () => {
      $example.classList.add(animationClass)
    })

    $article.addEventListener('mouseleave', () => {
      $example.classList.remove(animationClass)
    })
  })
</script>
